<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cart">

	<insert id="insert" parameterType="cartvo">
		<![CDATA[
			INSERT 
			INTO cart 
			VALUES (
						null,
						#{itemNo},
						#{memberNo},
						#{itemCount},
						#{price},
						#{orderNo}
					)		
		]]>
		
		<selectKey resultType="long" keyProperty="no" order="AFTER">
        	SELECT LAST_INSERT_ID()
    	</selectKey>
		
	</insert>
	
	<select id="getListByMemberNo" parameterType="long" resultType="cartvo">
		<![CDATA[
			SELECT	no,
					item_no AS itemNo,
					member_no AS memberNo,
					item_count AS itemCount
			FROM	cart
			WHERE	member_no = #{memberNo}
		]]>
	</select>
	
	<select id="getListByOrderNo" parameterType="long" resultType="cartvo">
		<![CDATA[
			SELECT	no,
					item_no AS itemNo,
					member_no AS memberNo,
					item_count AS itemCount
			FROM	cart
			WHERE	order_no = #{orderNo}
		]]>
	</select>
	
</mapper>